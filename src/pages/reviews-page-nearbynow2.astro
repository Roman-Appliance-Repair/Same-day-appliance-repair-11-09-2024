---
// Импорты и компоненты
import Cta from "@components/cta.astro";
import Layout from "@layouts/Layout.astro";
import Navbar from "@components/navbar/navbar.astro";

// Переменные для SEO
const description = "Looking for reliable same day appliance repair in Los Angeles and nearby areas? Read Google & Thumbtack reviews from real customers. More help: (424) 325-0573";
const title ="Same Day Appliance Repair Reviews - LA & Nearby Areas";

// Асинхронный запрос к API Nearby Now
let data = [];
try {
  const response = await fetch('https://api.nearbynow.co/your-endpoint', {
    method: 'GET',
    headers: {
      'Authorization': 'Bearer 9d609f40-f850-4b86-a255-5b09f7ad8cf7',
      'Content-Type': 'application/json',
    },
  });

  if (response.ok) {
    data = await response.json();
  } else {
    console.error('Ошибка при получении данных с Nearby Now:', response.statusText);
  }
} catch (error) {
  console.error('Ошибка:', error.message);
}
---


    <title>{title}</title>
    <meta name="description" content={description} />
    <link href="https://d2gwjd5chbpgug.cloudfront.net/v4.2/css/nnplugin.min.css" rel="stylesheet" type="text/css" /> 
 
    <Navbar />

    <main>
      <h1>Nearby Now Data</h1>
      <!-- Проверяем, есть ли данные -->
      {data.length > 0 ? (
        <ul>
          {data.map(item => (
            <li>{item.name}</li> <!-- Замените `name` на нужное поле из API -->
          ))}
        </ul>
      ) : (
        <p>Нет данных для отображения</p>
      )}
    </main>

    <Cta />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5/1hbAWC0A2WcDeZ7jfsKxvlG5BjgHwr9MJz5kBo" crossorigin="anonymous"></script>
    <script defer src="https://d2gwjd5chbpgug.cloudfront.net/v3/scripts/heatmap.min.js"></script>
 
